<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Rachel Care - Karácsony</title>
	
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700;1,800&amp;family=Poppins:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&amp;display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/fce97ce46e.js" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonymous"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css?v232">
	<!-- Meta Pixel Code -->
    <script>
        !function (f, b, e, v, n, t, s) {
            if (f.fbq) return;
            n = f.fbq = function () {
                n.callMethod ?
                    n.callMethod.apply(n, arguments) : n.queue.push(arguments)
            };
            if (!f._fbq) f._fbq = n;
            n.push = n;
            n.loaded = !0;
            n.version = '2.0';
            n.queue = [];
            t = b.createElement(e);
            t.async = !0;
            t.src = v;
            s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s)
        }(window, document, 'script',
            'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '591949012753276');
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
                   src="https://www.facebook.com/tr?id=591949012753276&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
	
<!-- TikTok Pixel Code Start -->
<script>
!function (w, d, t) {
  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(
var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")
;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};


  ttq.load('CQ5RBKRC77UAOAV5F03G');
  ttq.page();
}(window, document, 'ttq');
</script>
<!-- TikTok Pixel Code End -->
	
</head>

<body>
	
<div class="support">
	Kérdésed van? Hívj minket: <a href="tel:+36708022937">06 70 802 2937</a>
</div>
	
	
<section class="header">
	<div>
		<div>
			<img src="img/logo.png" class="logo">
			<h1>RACHEL CARE</h1>
			<h2>Természetes Fiatalosság Ajándékba</h2>
			<p>Szerezd be kedvenc Rachel Care csomagodat ünnepi díszdobozban, és lepd meg magad vagy szeretteidet a természetes szépség fiatalosító erejével!</p>
			<a class="cta" style="margin: 0;" href="#kosar">Érdekel</a>
		</div>
	</div>	
</section>
	
<section class="hero1">
	<div>
		<img src="img/hero1.png">
		<div>
			<h3>Ünnepi ajánlatok csak most, limitált ideig!</h3>
			<p>Két különleges karácsonyi csomagunk közül választhatsz, hogy a lehető legjobban gondoskodhass bőröd fiatalosságáról!</p>
			<a class="cta" style="margin: 0;" href="#kosar">Érdekel</a>
		</div>
	</div>	
</section>
	
<section class="hero2" id="kosar">
	<div>	
		<h3>Rachel care karácsonyi csomagok</h3>
		<p>Mindkét csomag díszdobozzal együtt érkezik. Ideális választás önmagadnak vagy ajándéknak szeretteidnek!</p>
		<div class="termekek">
			<div class="termek">
				<div class="termek-kep">
					<img src="img/termek3.png">
					<div class="tag">Limitált darabszám</div>
				</div>
				<div class="termek-nev">Klasszikus Kedvenc</div>
				<div class="termek-leiras">Nappali arckrém, Éjszakai arckrém, Szérum</div>
				<div class="termek-leiras">Ez a csomag már bizonyított! A tavalyi szezon kedvence, amit vásárlóink újra és újra választanak.</div>
				<div class="termek-gomb">
					<div class="termek-ar"><del>29 840 Ft</del><br>25 590 Ft</div>
					<button class="kosar-gomb" onclick="addToCart(246, 'Klasszikus Kedvenc', 25590, 'termek3.png')">Kosárba</button>
				</div>
			</div>

			<div class="termek">
				<div class="termek-kep">
					<img src="img/termek3-2.png">
					<div class="tag">Csak karácsonyra</div>
				</div>	
				<div class="termek-nev">Új Érkezés</div>
				<div class="termek-leiras">Nappali arckrém, Éjszakai arckrém, Szemkörnyékápoló</div>
				<div class="termek-leiras">Exkluzív, új összeállítás, ami csak a karácsonyi szezonban érhető el! Lepd meg szereteidet vele!</div>
				<div class="termek-gomb">
					<div class="termek-ar"><del>34 470 Ft</del><br>29 300 Ft</div>
					<button class="kosar-gomb" onclick="addToCart(247, 'Új Érkezés', 29300, 'termek3-2.png')">Kosárba</button>
				</div>
			</div>
		</div>	
	</div>	
</section>		
	
<section class="hero3">
	<div>	
		<img src="img/ajandek.jpg">
		<div>
			<h3>Ne feledd: az utolsó rendelési nap 2024. december 20.</h3>
			<p>Bár mindent megteszünk, hogy a csomagod időben megérkezzen, a karácsonyi futárterhelés miatt ajánljuk, hogy ne halogasd a rendelést!</p>
		</div>
	</div>	
</section>	
	
<section id="form" class="form">
		
		<h3>Megrendelés</h3>
		<p style="text-align: center;">Válassz a fenti ajánlatok közül, majd töltsd ki az űrlapot:</p>
		<div class="rendeles">

			<div class="kosar">
				<h4>Kosarad tartalma:</h4>
				<div id="kosarTermekek"></div>
				<div class="osszeg">Összesen: <span id="totalAmount">0 Ft</span></div>
				<div class="kosar-promo">Rendeld meg időben, és ajándékozz természetes fiatalosságot karácsonyra!</div>
			</div>

			<div class="rendeles-form">
				
				
				
				<div id="theForm">
					<label>NÉV</label>
					<input type="text" name="name" id="name" required="">
					<label>E-MAIL</label>
					<input type="text" name="email" id="email" required="">
					<label>TELEFON</label>
					<input type="text" name="phone" id="phone" required="">
                    <label style="display: block; margin: 20px 0 10px; font-weight: 600;">Számlázási cím</label>
					<div class="iranyitoszam">
						<label>ÍRÁNYÍTÓSZÁM</label>
						<input type="text" name="billing_zip" id="billing_zip" required="">
					</div>
					<div class="varos">
						<label>VÁROS</label>
						<input type="text" name="billing_city" id="billing_city" required="">
					</div>
					<label>CÍM</label>
					<input type="text" name="billing_address" id="billing_address" required="">
                   
				
                    <input type="checkbox" id="myCheck" onclick="myFunction()">
					<label>Másik címre kérem a szállítást</label> 

					<div id="text" style="display: none; margin-top:20px;">
						<label style="display: block; margin: 20px 0 10px; font-weight: 600;">Szállítási cím</label>
						<div class="iranyitoszam">
							<label>ÍRÁNYÍTÓSZÁM</label>
                            <input type="text" name="shipping_zip" id="shipping_zip">
						</div>
						<div class="varos">
							<label>VÁROS</label>
							<input type="text" name="shipping_city" id="shipping_city">
						</div>
                        <label>CÍM</label>
						<input type="text" name="shipping_address" id="shipping_address">
					</div>

                    <div class="radio-label">  
						<label onclick="updateTotalAmount()">
							<input type="radio" name="radio-payment" value="1" data-price="0" />
							<span>Utánvétel</span><!--<br><span class="szallitasi-koltseg">+1000 Ft</span>-->
						</label>
						<label onclick="updateTotalAmount()">
							<input type="radio" name="radio-payment" value="2" />
							<span>Banki átutalás</span>
						</label>
						<label onclick="updateTotalAmount()">
							<input type="radio" name="radio-payment" value="3" />
							<span>Bankkártya</span>
						</label>
					</div> 
					<div class="radio-label"> 
						<label onclick="updateTotalAmount()">
							<input type="radio" name="radio-shipping" value="Hazhozszallitas" data-price="0" />
							<span	>Házhozszállítás</span><!--<br><span class="szallitasi-koltseg">+1590 Ft</span>-->
						</label>
						<!--<label onclick="updateTotalAmount()">
							<input type="radio" name="radio-shipping" value="GLS" data-price="1490" />
							<span>GLS</span><br><span class="szallitasi-koltseg">+1490 Ft</span>
						</label>-->
						<label onclick="updateTotalAmount()">
							<input type="radio" name="radio-shipping" value="FOXPOST" data-price="0" />
							<span>Foxpost</span><!--<br><span class="szallitasi-koltseg">+1290 Ft</span>-->
						</label>
                    </div> 
					<iframe frameborder="0" loading="lazy" src="https://cdn.foxpost.hu/apt-finder/v1/app/" width="100%" height="600px" id="foxpost" style="display:none;"></iframe>
					<input type="hidden" name="data[fp_automata]" id="foxpostData">
				
                   
                    <p style="color:#0F2846; font-size: 12px; text-align: left;">A megrendelés elküldésével elfogadom az <a style="color:#0F2846;" href="https://rachelcare.hu/aszf.html" target="_blank">ÁSZF</a> és az <a style="color:#0F2846;" href="https://rachelcare.hu/adatkezeles.html" target="_blank">Adatkezelési tájékoztatóban</a> foglaltakat.</p>
                    <button class="rendeles-gomb" type="button" onclick="postData()">Megrendelés elküldése</button>
				</div>
			</div>     
	</div>
</section>
	
</body>
	
<script>
    var cart = [];
	var total = 0;

    function addToCart(id, name, price, image) {
        cart.push({ id, name, price, qty: 1, image });
        updateCartDisplay();
    }

    function updateCartDisplay() {
        const cartItemsContainer = document.getElementById("kosarTermekek");
        cartItemsContainer.innerHTML = "";
        cart.forEach((item, index) => {
            const cartItem = document.createElement("div");
            cartItem.classList.add("kosar-termek");
            cartItem.innerHTML = `
                <div><img src="img/${item.image}"></div>
                <div>
                    <div class="kosar-termeknev">${item.name}</div>
                    <div class="kosar-termekar">${item.price * item.qty} Ft</div>
                    <div class="kosar-mennyiseg">
                        <button class="minus-btn" type="button" onclick="changeQuantity(${index}, -1)"><i class="fa-solid fa-square-minus"></i></button>
                        <input type="text" value="${item.qty}" class="quantity-input" readonly>
                        <button class="plus-btn" type="button" onclick="changeQuantity(${index}, 1)"><i class="fa-solid fa-square-plus"></i></button>
                    </div>
                </div>
                <button class="x-button" type="button" onclick="removeFromCart(${index})"><i class="fa-solid fa-circle-xmark"></i></button>
            `;
            cartItemsContainer.appendChild(cartItem);
        });
        updateTotalAmount();
    }

    function changeQuantity(index, change) {
        if (cart[index].qty + change > 0) {
            cart[index].qty += change;
        }
        updateCartDisplay();
    }

    function removeFromCart(index) {
        cart.splice(index, 1);
        updateCartDisplay();
    }

    function updateTotalAmount() {
        const totalAmountElement = document.getElementById("totalAmount");
		const shippingPrice = $('input[name="radio-shipping"]:checked').data('price') || 0;
		const paymentPrice = $('input[name="radio-payment"]:checked').data('price') || 0;
		total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
		total += shippingPrice + paymentPrice;
        totalAmountElement.textContent = `${total} Ft`;
		console.log(total);
    }

    function postData() {
        if (cart.length === 0) {
            alert('A kosár üres!');
            return;
        }

        if (!document.querySelector('input[name="radio-payment"]:checked')) {
            alert('Kérlek válassz a fizetési módok közül!');
            return;
        }

        if (!document.querySelector('input[name="radio-shipping"]:checked')) {
            alert('Kérlek válassz a szállítási módok közül!');
            return;
        }

        if (document.querySelector('input[name="radio-shipping"]:checked').value === 'FOXPOST' && document.getElementById('foxpostData').value === '') {
            alert('Kérlek válassz ki egy automatát a listából!');
            return;
        }

        let valid = true;
        document.querySelectorAll('#theForm input').forEach((input) => {
            input.reportValidity();
            if (input.checkValidity() === false) valid = false;
        });

        if (!valid) return;

        let product_ids = [];
        let product_qtys = [];

        cart.forEach((item) => {
            product_ids.push(item.id);
            product_qtys.push(item.qty);
        });

        if (document.querySelector('input[name="radio-shipping"]:checked').value === 'Hazhozszallitas') {
            product_ids.push(131);
            product_qtys.push(1);
        } else if (document.querySelector('input[name="radio-shipping"]:checked').value === 'GLS') {
            product_ids.push(242);
            product_qtys.push(1);
        } else if (document.querySelector('input[name="radio-shipping"]:checked').value === 'FOXPOST') {
            product_ids.push(130);
            product_qtys.push(1);
        }

        /*if (document.querySelector('input[name="radio-payment"]:checked').value === '1') {
            product_ids.push(244);
            product_qtys.push(1);
        }*/

        let data = {
            name: document.getElementById("name").value,
            email: document.getElementById("email").value,
            phone: document.getElementById("phone").value,
            billing_zip: document.getElementById("billing_zip").value,
            billing_city: document.getElementById("billing_city").value,
            billing_address: document.getElementById("billing_address").value,
            shipping_zip: document.getElementById("shipping_zip").value,
            shipping_city: document.getElementById("shipping_city").value,
            shipping_address: document.getElementById("shipping_address").value,
            payment_method_id: document.querySelector('input[name="radio-payment"]:checked').value,
            'product_id[]': product_ids,
            'product_qty[]': product_qtys,
            'data[fp_automata]': document.getElementById('foxpostData').value,
			'success_return_url': 'https://rachelcare.hu/koszonjuk.html'
        };

        $.ajax({
            type: "POST",
            url: "https://epikforge.space/api/site/c71084ea-1e34-4af7-bd86-80d605301c57/order/create",
            data: data,
            success: function (response) {
                console.log(response);
                alert("Sikeres rendelés!");
                cart = [];
                updateCartDisplay();
				fbq('track', 'Purchase', {
					value: total,
					currency: 'HUF',
				});
				
				if (response.redirect && typeof response.redirect === 'string') {
					window.location = response.redirect;
				}

            },
            error: function (error) {
                console.error(error);
                alert("Hiba történt a rendelés során!");
            }
        });
    }
</script>
	
<script>
    function myFunction() {
        // Get the checkbox
        var checkBox = document.getElementById("myCheck");
        // Get the output text
        var text = document.getElementById("text");

        // If the checkbox is checked, display the output text
        if (checkBox.checked == true) {
            text.style.display = "block";
        } else {
            text.style.display = "none";
        }
    }
</script>
<script>
    //Foxpost
    function receiveMessage(event) {
        if (event.origin !== 'https://cdn.foxpost.hu') { return; }
        try {
            var apt = JSON.parse(event.data);
            document.getElementById('foxpostData').value = apt.operator_id;
        } catch (error) {
            console.error('Hibás üzenet formátum:', error);
        }
    }

    window.addEventListener('message', receiveMessage, false);

    document.querySelectorAll('input[name="radio-shipping"]').forEach(function (input) {
        input.addEventListener('change', function () {
            if (this.value === 'FOXPOST') {
                document.getElementById('foxpost').style.display = 'block';
            } else {
                document.getElementById('foxpost').style.display = 'none';
                document.getElementById('foxpostData').value = '';
            }
        });
    });
</script>
<script>
//Oldal görgetés
$(document).ready(function () {
    $('a').click(function (e) {
        const targetId = $(this).attr('href'); // Lekérjük az 'href' attribútumból a cél ID-t
        if (targetId.startsWith('#') && $(targetId).length) { // Ellenőrizzük, hogy egy ID-re mutat-e
            e.preventDefault(); // Alapértelmezett anchor viselkedés megakadályozása

            const offset = $(targetId).offset().top; // A cél ID távolsága az oldal tetejétől
            $('html, body').animate({
                scrollTop: offset // Görgetés a célpontra
            }, 800); // Görgetés időtartama (800 ms)
        }
    });
});

</script>
</html>
